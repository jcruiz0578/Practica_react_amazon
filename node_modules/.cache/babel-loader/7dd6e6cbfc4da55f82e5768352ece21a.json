{"ast":null,"code":"var _jsxFileName = \"/home/j14174208ing/WebstormProjects/react_practica1_amazon/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport Menu from './Menu';\nimport List from './List';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.initBooks = () => {\n      this.setState((state, props) => ({\n        copyBooks: [...state.books]\n      })); // cada vez q iniciemos initbooks  se hara una copia de state.books\n    };\n\n    this.onAdd = item => {\n      let temp = [...this.state.books]; // saco una copia del arreglo\n\n      const id = temp[temp.length - 1].id + 1; // saco el indice del ultimo elemento  y me de el id y le sumo 1\n\n      item['id'] = id;\n      temp.push(item);\n      this.setState({\n        books: [...temp]\n      });\n      this.initBooks();\n    };\n\n    this.onSearch = query => {\n      if (query == '') {\n        this.initBooks();\n      } else {\n        const temp = [...this.state.books];\n        let res = []; // otro arreglo temporal que se va a devolver\n\n        temp.forEach(item => {\n          if (item.title.toLowerCase().indexOf(query) > -1) {\n            //se convierte el titulo en minuscula y se busca la coincidencia\n            res.push(item); // el resultado se añade a res=[]\n          }\n        });\n        this.setState({\n          copyBooks: [...res]\n        });\n      }\n    };\n\n    this.onRemove = id => {\n      var temp = [...this.state.books];\n      const res = temp.filter(item => item.id !== id);\n      this.setState({\n        books: [...res]\n      });\n      this.initBooks();\n    };\n\n    this.state = {\n      books: [{\n        id: 0,\n        rating: 4,\n        title: 'Harry Potter y el cáliz de fuego',\n        image: 'libro01.jpg'\n      }, {\n        id: 1,\n        rating: 3,\n        title: 'The shining',\n        image: 'libro02.jpg'\n      }, {\n        id: 2,\n        rating: 5,\n        title: 'Código Da Vinci',\n        image: 'libro03.jpg'\n      }, {\n        id: 3,\n        rating: 5,\n        title: 'El principito',\n        image: 'libro04.jpg'\n      }, {\n        id: 4,\n        rating: 5,\n        title: 'Sobrenatural',\n        image: 'libro05.jpg'\n      }],\n      copyBooks: []\n    };\n  }\n\n  componentDidMount() {\n    this.initBooks();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(Menu, {\n        title: \"Amazon\",\n        onadd: this.onAdd,\n        onsearch: this.onSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        items: this.state.copyBooks,\n        onremove: this.onRemove\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/j14174208ing/WebstormProjects/react_practica1_amazon/src/App.js"],"names":["React","Menu","List","App","Component","constructor","props","initBooks","setState","state","copyBooks","books","onAdd","item","temp","id","length","push","onSearch","query","res","forEach","title","toLowerCase","indexOf","onRemove","filter","rating","image","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Menu from './Menu'\nimport List from './List'\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            books: [\n                {id: 0, rating: 4, title: 'Harry Potter y el cáliz de fuego', image: 'libro01.jpg'},\n                {id: 1, rating: 3, title: 'The shining', image: 'libro02.jpg'},\n                {id: 2, rating: 5, title: 'Código Da Vinci', image: 'libro03.jpg'},\n                {id: 3, rating: 5, title: 'El principito', image: 'libro04.jpg'},\n                {id: 4, rating: 5, title: 'Sobrenatural', image: 'libro05.jpg'}\n            ],\n\n            copyBooks: []\n        };\n    }\n\n    componentDidMount() {\n        this.initBooks();\n    }\n\n    initBooks = () => {\n        this.setState((state, props) => ({\n            copyBooks: [...state.books]\n        })); // cada vez q iniciemos initbooks  se hara una copia de state.books\n\n    }\n\n    onAdd = (item) => {\n        let temp = [...this.state.books];// saco una copia del arreglo\n        const id = temp[temp.length - 1].id + 1; // saco el indice del ultimo elemento  y me de el id y le sumo 1\n        item['id'] = id;\n        temp.push(item);\n        this.setState({books: [...temp]});\n        this.initBooks();\n\n    }\n\n    onSearch = (query) => {\n        if (query == '') {\n            this.initBooks();\n        } else {\n            const temp = [...this.state.books];\n            let res = []; // otro arreglo temporal que se va a devolver\n\n            temp.forEach(item => {\n                if (item.title.toLowerCase().indexOf(query) > -1) { //se convierte el titulo en minuscula y se busca la coincidencia\n                    res.push(item); // el resultado se añade a res=[]\n                }\n            });\n\n            this.setState({copyBooks: [...res]});\n\n        }\n    }\n\n    onRemove = (id) => {\n        var temp = [...this.state.books];\n        const  res = temp.filter(item => item.id !== id);\n\n        this.setState({books: [...res]});\n        this.initBooks();\n    }\n\n\n\n    render() {\n        return (\n            <div className=\"app\">\n                <Menu title={\"Amazon\"} onadd={this.onAdd} onsearch={this.onSearch}/>\n                {/*<List items={this.state.books}/>*/}\n                <List\n                    items={this.state.copyBooks}\n                    onremove={this.onRemove}/>\n            </div>\n        );\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}